<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 876.336px; background-color: white;" viewBox="0 0 876.3359375 1886.15625" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path d="M430.168,62L430.168,66.167C430.168,70.333,430.168,78.667,430.168,86.333C430.168,94,430.168,101,430.168,104.5L430.168,108" id="L_A_B_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_B_0" data-points="W3sieCI6NDMwLjE2Nzk2ODc1LCJ5Ijo2Mn0seyJ4Ijo0MzAuMTY3OTY4NzUsInkiOjg3fSx7IngiOjQzMC4xNjc5Njg3NSwieSI6MTEyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M430.168,190L430.168,194.167C430.168,198.333,430.168,206.667,430.168,214.333C430.168,222,430.168,229,430.168,232.5L430.168,236" id="L_B_C_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_C_0" data-points="W3sieCI6NDMwLjE2Nzk2ODc1LCJ5IjoxOTB9LHsieCI6NDMwLjE2Nzk2ODc1LCJ5IjoyMTV9LHsieCI6NDMwLjE2Nzk2ODc1LCJ5IjoyNDB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M430.168,294L430.168,298.167C430.168,302.333,430.168,310.667,430.168,318.333C430.168,326,430.168,333,430.168,336.5L430.168,340" id="L_C_D_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C_D_0" data-points="W3sieCI6NDMwLjE2Nzk2ODc1LCJ5IjoyOTR9LHsieCI6NDMwLjE2Nzk2ODc1LCJ5IjozMTl9LHsieCI6NDMwLjE2Nzk2ODc1LCJ5IjozNDR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M334.406,422L324.175,426.167C313.944,430.333,293.482,438.667,283.251,446.333C273.02,454,273.02,461,273.02,464.5L273.02,468" id="L_D_E_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_D_E_0" data-points="W3sieCI6MzM0LjQwNTYzOTY0ODQzNzUsInkiOjQyMn0seyJ4IjoyNzMuMDE5NTMxMjUsInkiOjQ0N30seyJ4IjoyNzMuMDE5NTMxMjUsInkiOjQ3Mn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M221.639,622.979L204.377,639.709C187.116,656.439,152.593,689.899,135.332,716.129C118.07,742.359,118.07,761.359,118.07,770.859L118.07,780.359" id="L_E_F_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E_F_0" data-points="W3sieCI6MjIxLjYzODkwNzQ4NjE4OTg4LCJ5Ijo2MjIuOTc4NzUxMjM2MTg5OX0seyJ4IjoxMTguMDcwMzEyNSwieSI6NzIzLjM1OTM3NX0seyJ4IjoxMTguMDcwMzEyNSwieSI6Nzg0LjM1OTM3NX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M324.4,622.979L341.662,639.709C358.923,656.439,393.446,689.899,410.707,714.129C427.969,738.359,427.969,753.359,427.969,760.859L427.969,768.359" id="L_E_G_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E_G_0" data-points="W3sieCI6MzI0LjQwMDE1NTAxMzgxMDE1LCJ5Ijo2MjIuOTc4NzUxMjM2MTg5OX0seyJ4Ijo0MjcuOTY4NzUsInkiOjcyMy4zNTkzNzV9LHsieCI6NDI3Ljk2ODc1LCJ5Ijo3NzIuMzU5Mzc1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M427.969,850.359L427.969,854.526C427.969,858.693,427.969,867.026,427.969,874.693C427.969,882.359,427.969,889.359,427.969,892.859L427.969,896.359" id="L_G_H_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_G_H_0" data-points="W3sieCI6NDI3Ljk2ODc1LCJ5Ijo4NTAuMzU5Mzc1fSx7IngiOjQyNy45Njg3NSwieSI6ODc1LjM1OTM3NX0seyJ4Ijo0MjcuOTY4NzUsInkiOjkwMC4zNTkzNzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M427.969,1002.359L427.969,1006.526C427.969,1010.693,427.969,1019.026,427.969,1026.693C427.969,1034.359,427.969,1041.359,427.969,1044.859L427.969,1048.359" id="L_H_I_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_H_I_0" data-points="W3sieCI6NDI3Ljk2ODc1LCJ5IjoxMDAyLjM1OTM3NX0seyJ4Ijo0MjcuOTY4NzUsInkiOjEwMjcuMzU5Mzc1fSx7IngiOjQyNy45Njg3NSwieSI6MTA1Mi4zNTkzNzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M427.969,1130.359L427.969,1134.526C427.969,1138.693,427.969,1147.026,427.969,1154.693C427.969,1162.359,427.969,1169.359,427.969,1172.859L427.969,1176.359" id="L_I_J_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_I_J_0" data-points="W3sieCI6NDI3Ljk2ODc1LCJ5IjoxMTMwLjM1OTM3NX0seyJ4Ijo0MjcuOTY4NzUsInkiOjExNTUuMzU5Mzc1fSx7IngiOjQyNy45Njg3NSwieSI6MTE4MC4zNTkzNzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M427.969,1282.359L427.969,1286.526C427.969,1290.693,427.969,1299.026,439.928,1307.15C451.887,1315.274,475.805,1323.188,487.764,1327.146L499.723,1331.103" id="L_J_K_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_J_K_0" data-points="W3sieCI6NDI3Ljk2ODc1LCJ5IjoxMjgyLjM1OTM3NX0seyJ4Ijo0MjcuOTY4NzUsInkiOjEzMDcuMzU5Mzc1fSx7IngiOjUwMy41MjA4ODM0MTM0NjE1NSwieSI6MTMzMi4zNTkzNzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M585.117,1386.359L585.117,1390.526C585.117,1394.693,585.117,1403.026,585.117,1410.693C585.117,1418.359,585.117,1425.359,585.117,1428.859L585.117,1432.359" id="L_K_L_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_K_L_0" data-points="W3sieCI6NTg1LjExNzE4NzUsInkiOjEzODYuMzU5Mzc1fSx7IngiOjU4NS4xMTcxODc1LCJ5IjoxNDExLjM1OTM3NX0seyJ4Ijo1ODUuMTE3MTg3NSwieSI6MTQzNi4zNTkzNzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M585.117,1514.359L585.117,1518.526C585.117,1522.693,585.117,1531.026,585.117,1538.693C585.117,1546.359,585.117,1553.359,585.117,1556.859L585.117,1560.359" id="L_L_M_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_L_M_0" data-points="W3sieCI6NTg1LjExNzE4NzUsInkiOjE1MTQuMzU5Mzc1fSx7IngiOjU4NS4xMTcxODc1LCJ5IjoxNTM5LjM1OTM3NX0seyJ4Ijo1ODUuMTE3MTg3NSwieSI6MTU2NC4zNTkzNzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M541.253,1682.292L525.29,1695.77C509.328,1709.247,477.402,1736.202,461.439,1755.179C445.477,1774.156,445.477,1785.156,445.477,1790.656L445.477,1796.156" id="L_M_N_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_M_N_0" data-points="W3sieCI6NTQxLjI1MzEyOTUwMjg4MTgsInkiOjE2ODIuMjkyMTkyMDAyODgxOH0seyJ4Ijo0NDUuNDc2NTYyNSwieSI6MTc2My4xNTYyNX0seyJ4Ijo0NDUuNDc2NTYyNSwieSI6MTgwMC4xNTYyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M628.981,1682.292L644.944,1695.77C660.907,1709.247,692.832,1736.202,708.795,1757.179C724.758,1778.156,724.758,1793.156,724.758,1800.656L724.758,1808.156" id="L_M_O_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_M_O_0" data-points="W3sieCI6NjI4Ljk4MTI0NTQ5NzExODIsInkiOjE2ODIuMjkyMTkyMDAyODgxOH0seyJ4Ijo3MjQuNzU3ODEyNSwieSI6MTc2My4xNTYyNX0seyJ4Ijo3MjQuNzU3ODEyNSwieSI6MTgxMi4xNTYyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M560.168,409.658L590.518,415.882C620.867,422.106,681.566,434.553,711.916,461.806C742.266,489.06,742.266,531.12,742.266,577.18C742.266,623.24,742.266,673.299,742.266,712.996C742.266,752.693,742.266,782.026,742.266,807.359C742.266,832.693,742.266,854.026,742.266,877.359C742.266,900.693,742.266,926.026,742.266,951.359C742.266,976.693,742.266,1002.026,742.266,1020.193C742.266,1038.359,742.266,1049.359,742.266,1054.859L742.266,1060.359" id="L_D_P_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_D_P_0" data-points="W3sieCI6NTYwLjE2Nzk2ODc1LCJ5Ijo0MDkuNjU4MzIyNTkwMzM1MDV9LHsieCI6NzQyLjI2NTYyNSwieSI6NDQ3fSx7IngiOjc0Mi4yNjU2MjUsInkiOjU3My4xNzk2ODc1fSx7IngiOjc0Mi4yNjU2MjUsInkiOjcyMy4zNTkzNzV9LHsieCI6NzQyLjI2NTYyNSwieSI6ODExLjM1OTM3NX0seyJ4Ijo3NDIuMjY1NjI1LCJ5Ijo4NzUuMzU5Mzc1fSx7IngiOjc0Mi4yNjU2MjUsInkiOjk1MS4zNTkzNzV9LHsieCI6NzQyLjI2NTYyNSwieSI6MTAyNy4zNTkzNzV9LHsieCI6NzQyLjI2NTYyNSwieSI6MTA2NC4zNTkzNzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M742.266,1118.359L742.266,1124.526C742.266,1130.693,742.266,1143.026,742.266,1156.693C742.266,1170.359,742.266,1185.359,742.266,1192.859L742.266,1200.359" id="L_P_Q_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P_Q_0" data-points="W3sieCI6NzQyLjI2NTYyNSwieSI6MTExOC4zNTkzNzV9LHsieCI6NzQyLjI2NTYyNSwieSI6MTE1NS4zNTkzNzV9LHsieCI6NzQyLjI2NTYyNSwieSI6MTIwNC4zNTkzNzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M742.266,1258.359L742.266,1266.526C742.266,1274.693,742.266,1291.026,730.307,1303.15C718.347,1315.274,694.429,1323.188,682.47,1327.146L670.511,1331.103" id="L_Q_K_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Q_K_0" data-points="W3sieCI6NzQyLjI2NTYyNSwieSI6MTI1OC4zNTkzNzV9LHsieCI6NzQyLjI2NTYyNSwieSI6MTMwNy4zNTkzNzV9LHsieCI6NjY2LjcxMzQ5MTU4NjUzODUsInkiOjEzMzIuMzU5Mzc1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_A_B_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_B_C_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C_D_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_D_E_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(118.0703125, 723.359375)"><g class="label" data-id="L_E_F_0" transform="translate(-9.3984375, -12)"><foreignObject width="18.796875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(427.96875, 723.359375)"><g class="label" data-id="L_E_G_0" transform="translate(-105.3984375, -24)"><foreignObject width="210.796875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>Yes (threshold/overflow/manual)</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_G_H_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_H_I_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_I_J_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_J_K_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_K_L_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_L_M_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(445.4765625, 1763.15625)"><g class="label" data-id="L_M_N_0" transform="translate(-11.328125, -12)"><foreignObject width="22.65625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(724.7578125, 1763.15625)"><g class="label" data-id="L_M_O_0" transform="translate(-9.3984375, -12)"><foreignObject width="18.796875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_D_P_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_P_Q_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Q_K_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-A-0" transform="translate(430.16796875, 35)"><rect class="basic label-container" style="" x="-113.921875" y="-27" width="227.84375" height="54"/><g class="label" style="" transform="translate(-83.921875, -12)"><rect/><foreignObject width="167.84375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>User/Tool events arrive</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-B-1" transform="translate(430.16796875, 151)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>AgentSession handles message_end</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C-3" transform="translate(430.16796875, 267)"><rect class="basic label-container" style="" x="-201.8203125" y="-27" width="403.640625" height="54"/><g class="label" style="" transform="translate(-171.8203125, -12)"><rect/><foreignObject width="343.640625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>SessionManager.appendMessage/customMessage</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-D-5" transform="translate(430.16796875, 383)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Append-only JSONL entries (id/parentId tree)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-E-7" transform="translate(273.01953125, 573.1796875)"><polygon points="101.1796875,0 202.359375,-101.1796875 101.1796875,-202.359375 0,-101.1796875" class="label-container" transform="translate(-100.6796875, 101.1796875)"/><g class="label" style="" transform="translate(-74.1796875, -12)"><rect/><foreignObject width="148.359375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Compaction needed?</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-F-9" transform="translate(118.0703125, 811.359375)"><rect class="basic label-container" style="" x="-110.0703125" y="-27" width="220.140625" height="54"/><g class="label" style="" transform="translate(-80.0703125, -12)"><rect/><foreignObject width="160.140625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Continue normal turns</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-G-11" transform="translate(427.96875, 811.359375)"><rect class="basic label-container" style="" x="-149.828125" y="-39" width="299.65625" height="78"/><g class="label" style="" transform="translate(-119.828125, -24)"><rect/><foreignObject width="239.65625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>prepareCompaction(pathEntries, settings)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-H-13" transform="translate(427.96875, 951.359375)"><rect class="basic label-container" style="" x="-130" y="-51" width="260" height="102"/><g class="label" style="" transform="translate(-100, -36)"><rect/><foreignObject width="200" height="72"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Choose cut-point (avoid toolResult boundary, keep recent tokens)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-I-15" transform="translate(427.96875, 1091.359375)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Generate summary (default or extension hook)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-J-17" transform="translate(427.96875, 1231.359375)"><rect class="basic label-container" style="" x="-138.2265625" y="-51" width="276.453125" height="102"/><g class="label" style="" transform="translate(-108.2265625, -36)"><rect/><foreignObject width="216.453125" height="72"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>appendCompaction(summary, firstKeptEntryId, tokensBefore)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-K-19" transform="translate(585.1171875, 1359.359375)"><rect class="basic label-container" style="" x="-107.6015625" y="-27" width="215.203125" height="54"/><g class="label" style="" transform="translate(-77.6015625, -12)"><rect/><foreignObject width="155.203125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>buildSessionContext()</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-L-21" transform="translate(585.1171875, 1475.359375)"><rect class="basic label-container" style="" x="-141.6796875" y="-39" width="283.359375" height="78"/><g class="label" style="" transform="translate(-111.6796875, -24)"><rect/><foreignObject width="223.359375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>agent.replaceMessages(rebuilt working context)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-M-23" transform="translate(585.1171875, 1645.2578125)"><polygon points="80.8984375,0 161.796875,-80.8984375 80.8984375,-161.796875 0,-80.8984375" class="label-container" transform="translate(-80.3984375, 80.8984375)"/><g class="label" style="" transform="translate(-53.8984375, -12)"><rect/><foreignObject width="107.796875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Overflow path?</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-N-25" transform="translate(445.4765625, 1839.15625)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>auto retry: agent.continue()</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-O-27" transform="translate(724.7578125, 1839.15625)"><rect class="basic label-container" style="" x="-99.28125" y="-27" width="198.5625" height="54"/><g class="label" style="" transform="translate(-69.28125, -12)"><rect/><foreignObject width="138.5625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Wait next user turn</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-P-29" transform="translate(742.265625, 1091.359375)"><rect class="basic label-container" style="" x="-118.171875" y="-27" width="236.34375" height="54"/><g class="label" style="" transform="translate(-88.171875, -12)"><rect/><foreignObject width="176.34375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Process restart / resume</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Q-31" transform="translate(742.265625, 1231.359375)"><rect class="basic label-container" style="" x="-126.0703125" y="-27" width="252.140625" height="54"/><g class="label" style="" transform="translate(-96.0703125, -12)"><rect/><foreignObject width="192.140625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Load JSONL session entries</p></span></div></foreignObject></g></g></g></g></g></svg>